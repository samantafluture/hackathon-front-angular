<section>
  <form>
    <div class="search">
      <div class="search-bar">
        <span><i class="fas fa-search"></i></span>
        <input
          class="search-input"
          placeholder="Search for hackathons..."
          [formControl]="searchInput"
        />
      </div>
    </div>
    <div class="filter">
      <h3>Filter By:</h3>
      <div class="filter-location">
        <div class="filter-location-input">
          <app-location-input #location></app-location-input>
        </div>
        <button
          class="filter-location-btn"
          (click)="filterLocation(location.userAddress)"
        >
          Around Here
        </button>
      </div>
      <div class="filter-btns">
        <button (click)="filterFree()">All Free</button>
        <button (click)="filterRemote()">All Remote</button>
      </div>
      <div class="clear-btn">
        <button (click)="clear()">Clear Results</button>
      </div>
    </div>
  </form>

  <section class="list-area">
    <div *ngIf="hackathons$ | async as hackathons; else empty">
      <h2 class="list-area-title">
        Showing <span class="emphasis">{{ hackathons.length }}</span> Hackathons
      </h2>
      <div class="list-cards">
        <div *ngFor="let hackathon of hackathons" class="card-item">
          <a [href]="hackathon.url" class="card-header" target="_blank">
            <h3 class="card-title">{{ hackathon.name }}</h3>
            <p class="card-subtitle">{{ hackathon.description }}</p>
            <a [href]="hackathon.url"><i class="fas fa-link fa-lg"></i></a>
          </a>
          <div class="card-details">
            <p><i class="fas fa-map-marker-alt"></i>{{ hackathon.location }}</p>
            <p><i class="fas fa-calendar"></i>{{ hackathon.date | date }}</p>
            <p><i class="fas fa-dollar-sign"></i>{{ hackathon.price | number }}</p>
          </div>
          <div class="card-btns">
            <a class="btn-edit" [routerLink]="['/edit/' + hackathon._id]"
              ><i class="fas fa-pencil-alt fa-lg"></i
            ></a>
            <button class="btn-remove" (click)="remove(hackathon._id)">
              <i class="fas fa-trash fa-lg"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>
  <ng-template #empty>
    <app-loader></app-loader>
  </ng-template>
</section>
